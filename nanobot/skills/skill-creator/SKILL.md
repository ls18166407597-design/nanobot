---
name: skill-creator
description: 创建或更新 Agent 技能。在设计、构建或打包包含脚本、参考资料和资产的技能时使用。
---

# 技能创建者 (Skill Creator)

此技能为创建高效技能提供指导。

## 关于技能

技能是模块化的、独立的包，通过提供专门的知识、工作流和工具来扩展 Agent 的能力。把它们看作是特定领域或任务的“入职指南”——它们将 Agent 从通过用 Agent 转变为具备特定过程知识的专用 Agent。

### 技能提供什么

1. **专用工作流**: 特定领域的多步程序
2. **工具集成**: 处理特定文件格式或 API 的说明
3. **领域专长**: 公司特定的知识、架构、业务逻辑
4. **捆绑资源**: 用于复杂和重复任务的脚本、参考资料和资产

## 核心原则

### 简洁是关键

上下文窗口是公共资源。技能与 Agent 需要的其他一切共享上下文窗口：系统提示词、对话历史、其他技能的元数据以及实际的用户请求。

**默认假设：Agent 已经非常聪明。** 只添加 Agent 尚未拥有的上下文。 质疑每条信息：“Agent 真的需要这个解释吗？”以及“这段话值得它的 Token 成本吗？”

相对于冗长的解释，更喜欢简洁的例子。

### 设定适当的自由度

将具体程度与任务的脆弱性和可变性相匹配：

**高自由度（基于文本的说明）**: 当多种方法均有效、决策取决于上下文或启发式方法指导方法时使用。

**中等自由度（伪代码或带参数的脚本）**: 当存在首选模式、某些变化可接受或配置影响行为时使用。

**低自由度（特定脚本、极少参数）**: 当操作脆弱且容易出错、一致性至关重要或必须遵循特定顺序时使用。

把 Agent 想象成在探索一条路径：悬崖边的狭窄桥梁需要特定的护栏（低自由度），而开阔的田野允许许多路线（高自由度）。

### 技能的解剖结构

每个技能由一个必需的 `SKILL.md` 文件和可选的捆绑资源组成：

```
skill-name/
├── SKILL.md (必需)
│   ├── YAML frontmatter metadata (必需)
│   │   ├── name: (必需)
│   │   └── description: (必需)
│   └── Markdown instructions (必需)
└── Bundled Resources (可选)
    ├── scripts/          - 可执行代码 (Python/Bash/etc.)
    ├── references/       - 旨在按需加载到上下文中的文档
    └── assets/           - 用于输出的文件 (模板, 图标, 字体, etc.)
```

#### SKILL.md (必需)

每个 `SKILL.md` 包含：

- **Frontmatter** (YAML): 包含 `name` 和 `description` 字段。这是 Agent 读取以确定何时使用技能的唯一字段，因此非常重要，需清晰全面地描述技能是什么以及何时使用。
- **Body** (Markdown): 使用技能的说明和指导。仅在技能触发确后加载（如果有的话）。

#### 捆绑资源 (可选)

##### 脚本 (`scripts/`)

用于需要确定性可靠性或重复重写的任务的可执行代码 (Python/Bash/etc.)。

- **何时包含**: 当相同的代码被重复重写或需要确定性可靠性时
- **示例**: 用于 PDF 旋转任务的 `scripts/rotate_pdf.py`
- **好处**: Token 高效、确定性、无需加载到上下文即可执行
- **注意**: 脚本可能仍需被 Agent 读取以进行修补或环境特定的调整

##### 参考资料 (`references/`)

旨在按需加载到上下文中以通知 Agent 过程和思考的文档和参考材料。

- **何时包含**: 供 Agent 在工作时参考的文档
- **示例**: 用于财务架构的 `references/finance.md`，用于公司 NDA 模板的 `references/mnda.md`，用于 API 规范的 `references/api_docs.md`
- **用例**: 数据库架构、API 文档、领域知识、详细工作流指南
- **好处**: 保持 `SKILL.md` 精简，只在 Agent 确定需要时加载
- **最佳实践**: 如果文件很大 (>10k 字)，在 `SKILL.md` 中包含 grep 搜索模式

##### 资产 (`assets/`)

不打算加载到上下文中，而是在 Agent 生成的输出中使用的文件。

- **何时包含**: 当技能需要用于最终输出的文件时
- **示例**: 用于品牌资产的 `assets/logo.png`，用于 PowerPoint 模板的 `assets/slides.pptx`
- **用例**: 模板、图像、图标、样板代码、字体、被复制或修改的示例文档

### 渐进式披露设计原则

技能使用三级加载系统来高效管理上下文：

1. **元数据 (name + description)** - 始终在上下文中 (~100 字)
2. **SKILL.md body** - 当技能触发时 (<5k 字)
3. **捆绑资源** - 按需加载 (无限，因为脚本无需读入上下文窗口即可执行)

### 技能创建过程

技能创建涉及以下步骤：

1. 用具体例子理解技能
2. 规划可重用的技能内容 (脚本, 参考资料, 资产)
3. 初始化技能 (运行 `init_skill.py`)
4. 编辑技能 (实现资源并编写 `SKILL.md`)
5. 打包技能 (运行 `package_skill.py`)
6. 基于实际使用进行迭代

#### 第一步：用具体例子理解技能

只有在技能的使用模式已经非常清晰时才跳过此步骤。

要创建一个有效的技能，清楚地理解技能将如何被使用的具体例子。

例如，在构建图像编辑器技能时，相关问题包括：
- “图像编辑器技能应该支持什么功能？编辑、旋转，还有别的吗？”
- “你能举一些如何使用这个技能的例子吗？”

#### 第二步：规划可重用的技能内容

分析每个例子：
1. 考虑如何从头开始执行该例子
2. 确定在重复执行这些工作流时，哪些脚本、参考资料和资产会有帮助

#### 第三步：初始化技能

运行 `init_skill.py` 脚本。它会生成一个新的模板技能目录，自动包含技能所需的一切。

用法:
```bash
scripts/init_skill.py <skill-name> --path <output-directory> [--resources scripts,references,assets] [--examples]
```

#### 第四步：编辑技能

编写 `SKILL.md` 和资源。

**Frontmatter**
- `name`: 技能名称
- `description`: 这是技能的主要触发机制。包含技能做什么以及使用的具体触发器/上下文。

**Body**
编写使用技能及其捆绑资源的说明。

#### 第五步：打包技能

一旦开发完成，必须将其打包为可分发的 `.skill` 文件。

```bash
scripts/package_skill.py <path/to/skill-folder>
```

#### 第六步：迭代

在真实任务中使用技能，注意挣扎或低效的地方，然后更新 `SKILL.md` 或资源。
