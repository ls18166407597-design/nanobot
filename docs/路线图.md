# Nanobot 战略路线图

本路线图概述了 Nanobot 从轻量级脚本演进为极具韧性的代理平台的长期愿景。

## ✅ 第一阶段：核心增强 (已完成)
- [x] **进阶工具套件**: Gmail、GitHub、Mac 控制以及知识库 (Obsidian) 集成。
- [x] **语音转文字**: 通过 Groq Whisper 实现自动转译。
- [x] **自主验证机制**: 关键任务的真实世界核实逻辑。
- [x] **精简上下文优化**: 大幅降低 Token 消耗与响应延迟。
- [x] **双语支持**: 全面的中英文文档与项目结构。

## ✅ 第二阶段：智能与扩展 (已完成)
- [x] **动态工具发现**: 根据注册工具的 Schema 自动更新系统提示词。
- [x] **对话剪枝与摘要**: 通过智能历史总结实现近似无限的会话长度 (自动总结)。
- [x] **长效记忆 (RAG)**: 实现轻量级 RAG 检索，精准提取长期记忆。
- [x] **并行工具执行**: 支持多工具并发调用，显著提升响应速度。
- [x] **LLM 安全守卫**: 引入语义级命令审核，防止危险操作。
- [x] **子代理并行化**: 能够生成后台子代理来执行耗时的研究任务。
- [x] **多模型自动回退**: 在不同服务商（Gemini, DeepSeek, 本地模型）间实现自动故障切换与推理开关控制。
- [x] **系统健壮性优化**: 引入深度诊断 (`doctor`) 与统一日志追踪 (`logs`) 系统。

## 🚀 第三阶段：感知自主性 (进行中)
- [x] **原生视觉集成**: 原生支持对截图和网页的“视觉”解析。
- [x] **桌面自动化 (WeChat/Telegram)**:
    - 实现了基于系统快捷键 (`Cmd+F/K`) 的纯键盘控制流。
    - 攻克了输入法干扰 (IME Bypass) 与窗口焦点难题。
    - 建立了智能路由 (`Smart Dispatch`) 与联系人动态管理系统。
- [x] Phase 30: System Robustness & Diagnostic Enhancements (Context Guard, Dynamic Paths, Background Lanes, Telegram Segmentation, Model Adaptation)
- [x] **深度链接系统**: 支持 `obsidian://` 等协议实现与桌面应用的无缝交互。

## ✅ 第四阶段：企业级韧性与多模型治理 (已完成)
- [x] **高可用路由 (HA Routing)**: 严格的供应商与模型绑定映射，杜绝 401/400 身份错配。
- [x] **全链路 Failover**: 子任务自动继承全局注册表，支持精准的模型级故障切换。
- [x] **动态别名解构**: 支持通过别名 (Nickname) 自动定位物理模型 ID 与凭据。

## 🚀 第五阶段：深度协作与自进化 (进行中)
- [x] **V2.0 架构加固 (2025-02-10)**: 实现内容哈希死循环检测、上下文摘要去重、并发限制及深度路径安全校验。
- [ ] **深度向量 RAG**: 集成本地向量数据库，实现秒级海量文档检索。

---

Nanobot 致力于保持 **精简内核 (~8,100 行)**，同时提供最前沿的智能代理能力。
