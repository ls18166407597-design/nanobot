---
name: automated-messaging
description: æ¡Œé¢æ¶ˆæ¯è‡ªåŠ¨åŒ–ä¸“å®¶ã€‚é€šè¿‡é›†æˆè„šæœ¬å®ç°å¾®ä¿¡ (WeChat)ã€Telegram åŠå…¶ä»–ä¸»æµé€šè®¯å·¥å…·çš„è”ç³»äººç®¡ç†ã€æ™ºèƒ½è·¯ç”±åŠè‡ªåŠ¨æ¶ˆæ¯å‘é€ã€‚
---

# æ¡Œé¢æ¶ˆæ¯è‡ªåŠ¨åŒ– (Desktop Messenger) ğŸˆ

æ­¤æŠ€èƒ½æ—¨åœ¨è®© Nanobot å…·å¤‡åŸç”Ÿçº§åˆ«çš„ macOS æ¶ˆæ¯å¤„ç†èƒ½åŠ›ï¼Œé€šè¿‡è°ƒç”¨åº•å±‚è‡ªåŠ¨åŒ–è„šæœ¬ï¼Œå®ç°ä¸å¾®ä¿¡ã€Telegram ç­‰è”ç³»äººçš„é«˜æ•ˆè§¦è¾¾ã€‚

## ğŸ’¡ æ ¸å¿ƒé€»è¾‘ (Core Logic)

ä¸ºäº†ç¡®ä¿æ‰§è¡ŒæˆåŠŸï¼Œè¯·éµå¾ªä»¥ä¸‹é—­ç¯è·¯å¾„ï¼š

```mermaid
graph TD
    A[æ”¶åˆ°æ¶ˆæ¯æŒ‡ä»¤] --> B{å·²çŸ¥è”ç³»äºº?}
    B -- å¦ --> C[è¯»å– USER.md ç´¢å¼•æˆ– contacts.json]
    B -- æ˜¯ --> D[åŒ¹é…åˆ«åä¸ App]
    C --> D
    D --> E[è¿è¡Œ smart_send.py å‘é€]
    E --> F[ç¡®è®¤å‘é€çŠ¶æ€å¹¶æ±‡æŠ¥]
```

## ğŸ› ï¸ æŒ‡ä»¤åº“ (Command Library)

### 1. å‘é€æ¶ˆæ¯ (Send Message)
ä½¿ç”¨ `smart_send.py` è¿›è¡Œè‡ªåŠ¨åŒ–å‘é€,æ”¯æŒå•ä¸ªå’Œæ‰¹é‡æ¨¡å¼ã€‚

**å•ä¸ªè”ç³»äºº:**
```bash
python3 scripts/smart_send.py "åˆ«å" "æ¶ˆæ¯å†…å®¹"
```

**æ‰¹é‡å‘é€(æ‰€æœ‰è”ç³»äºº):**
```bash
python3 scripts/smart_send.py --all "æ¶ˆæ¯å†…å®¹"
```

**æ‰¹é‡å‘é€(ç­›é€‰ App):**
```bash
# åªç»™ Telegram è”ç³»äººå‘é€
python3 scripts/smart_send.py --all "æ¶ˆæ¯å†…å®¹" --app Telegram
```

**ä½¿ç”¨ç‰¹å®šè´¦å·:**
```bash
python3 scripts/smart_send.py --all "æ¶ˆæ¯å†…å®¹" --account "å°æ"
```

### 2. è·å–/ç®¡ç†é€šè®¯å½• (Contact Management)
è¯»å–æˆ–ä¿®æ”¹æœ¬åœ° `contacts.json` æ•°æ®åº“ã€‚
```bash
# åˆ—å‡ºæ‰€æœ‰å·²å­˜è”ç³»äºº(é¦–é€‰æ­¥éª¤)
python3 scripts/manage_contacts.py list

# æ–°å¢è”ç³»äººæ˜ å°„
python3 scripts/manage_contacts.py add "åˆ«å" "Appå†…å®å" WeChat/Telegram
```

## ğŸ“‚ æ•°æ®æ¶æ„ (Data Architecture)

- **æ ¸å¿ƒæ•°æ®åº“**: `scripts/contacts.json` (è®°å½•åˆ«åä¸ App çš„æ˜ å°„å…³ç³»)ã€‚
- **è·¯å¾„ç´¢å¼•**: è¯¦ç»†çš„æ•°æ®ä½ç½®å·²åœ¨ `USER.md` çš„ **## ğŸ“‚ æ•°æ®ç´¢å¼•** ä¸­å»ºç«‹å¸¸é©»é“¾æ¥ã€‚

---
> [!TIP]
> **ç§˜ä¹¦å»ºè®®**ï¼š
> - **ç¾¤å‘ä»»åŠ¡**: ä½¿ç”¨ `--all` å‚æ•°ä¸€æ¬¡æ€§å‘é€ç»™æ‰€æœ‰è”ç³»äºº,é¿å…é‡å¤æ‰“å¼€/å…³é—­åº”ç”¨ã€‚
> - **ç²¾å‡†å‘é€**: åœ¨ç¾¤å‘å‰è¿è¡Œ `manage_contacts.py list` ç¡®è®¤æ‰€æœ‰è”ç³»äººåˆ«åæ­£ç¡®å½•å…¥ã€‚ğŸ¾
