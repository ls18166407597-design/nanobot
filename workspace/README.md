# Nanobot 工作区指南 (Workspace Guide) 🐈

欢迎来到您的 Nanobot 个人工作区。这里是机器人存储所有持久化数据、自定义技能和自动化脚本的核心地带。

## 📂 目录结构 (Directory Structure)

### 1. `scripts/` - 共享脚本库
存放所有核心自动化 Python 脚本和数据文件。
- `smart_send.py`: 智能消息调度器，根据联系人别名自动选择 App 发送。
- `manage_contacts.py`: 联系人管理工具（增删改查）。
- `contacts.json`: 联系人数据库（别名、实名、App 映射）。
- `automate_*.py`: 针对特定 App（微信/Telegram）的底层 UI 自动化脚本。

### 2. `skills/` - 专业技能包
存放扩展机器人能力的 Markdown 配置文件。
- `automated-messaging/`: 专注于 WeChat/Telegram 的自动化发送。
- `computer-control/`: 通用的 macOS 系统级操控（键盘、鼠标、视觉）。

### 3. `memory/` - 智能记忆仓
存放机器人的长期记忆和每日运行日志。
- `MEMORY.md`: 核心长期记忆索引。
- `YYYY-MM-DD.md`: 每一天的详细运行记录。

## 📍 架构逻辑与加载优先级
Nanobot 遵循 **“工作区至上 (Workspace Supremacy)”** 原则。

### 1. 技能加载顺序 (Skill Priority)
当存在同名技能时，加载优先级如下：
1.  **高：`workspace/skills/`** (您的私有定制，始终优先)
2.  **中：`openclaw/skills/`** (社区扩展包)
3.  **底：`nanobot/skills/`** (系统预置默认)

> [!IMPORTANT]
> **覆盖机制**：如果您想修改系统默认技能的行为，只需在 `workspace/skills/` 下创建一个同名的文件夹并编写 `SKILL.md`，系统会自动忽略默认版本并执行您的版本。

### 2. 环境与同步
- **核心框架 (`nanobot/`)**: 存放稳定的系统引擎代码，属于“生产蓝图”。
- **用户空间 (`workspace/`)**: 存放您的私有数据、调优记录和特定领域的脚本，属于“私人领地”。
- **Git 同步**: 整个目录已与 GitHub 仓库同步，确保您的资产永久安全。

---
> [!TIP]
> **秘书建议**：如果您编写了新的通用脚本，请将其放入 `workspace/scripts/`；如果您希望定义一个新的“任务领域”，请在 `workspace/skills/` 下新建文件夹并编写 `SKILL.md`。🐾

## 🧠 格式与性能：为什么选择 Markdown？

老板，关于您提到的格式选择，这涉及到 **“语义密度”与“Token 开销”** 的平衡：

| 格式 | 优势 | 劣势 | 适用场景 |
| :--- | :--- | :--- | :--- |
| **Markdown (MD)** | **语义锚点多**。`#`、`-`、`**` 为 AI 提供了清晰的层次结构，极大提升了模型在长上下文中的搜索与定位精度。它是 LLM 的“母语”。 | 比 TXT 多出约 5%-10% 的额外 Token（用于语法符号）。 | **所有知识库、技能定义、运行日志。** |
| **JSON** | **物理结构严谨**。极其适合程序化的数据交换，AI 处理 Key-Value 的匹配效率非常高。 | 符号极多（引号、大括号、过长的 Key），在数据量大时 Token 浪费最严重。 | **联系人数据库、系统配置。** |
| **Plain Text (TXT)** | **Token 效率最高**。没有任何冗余字符。 | **丧失语义分层**。在 128k 的大背景下，AI 很难从平铺的文字中瞬间抓取到核心标题。 | **纯文本素材、临时缓冲区。** |

### 我们的策略：
- **知识定义（技能书）**：坚持使用 **Markdown**。虽然多了几个符号，但换来的是 AI 逻辑执行的 100% 准确率。
- **数据存储（联系人单）**：坚持使用 **JSON**。因为它不仅要给 AI 看，还要给 Python 脚本直接解析。
- **长文本索引**：我们采用 **“Markdown 索引 + 细粒度读取”**。只在 `USER.md` 里存路径（索引），AI 需要时再精准读取 MD 的特定章节。

---

## 🚀 未来扩展：挂载您的外部知识库 (RAG)
老板，如果您以后想让 Nanobot 学习您的 **Obsidian 笔记** 或 **个人文档库**，只需简单一步：
- **发送指令**：“帮我把知识库重新挂载到 `[您的库路径]`”。
- **后续效果**：Nanobot 将自动建立索引，成为您的全能智库。

*注：当前系统已默认挂载 `workspace/memory` 用于记录运行日志。*
